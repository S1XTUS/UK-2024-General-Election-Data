(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{9762:function(e,t,n){"use strict";var a,s=n(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",_extends({fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=s.createElement("path",{clipRule:"evenodd",d:"m6.70875 5.82562 4.56625-4.56625c-.1137-.268745-.5269-.72437-.8188-.73437-.1387-.004375-.26.045625-.3637.149375l-4.2675 4.267495-4.56625-4.56687c-.26875.114375-.724375.526875-.734375.82-.004375.13812.045625.25938.149375.36313l4.2675 4.26749-4.56625 4.56688c.11375.2681.52625.7238.81875.7337.13812.0044.26-.0456.36375-.1493l4.2675-4.26752 4.5662 4.56682c.2688-.1143.7244-.5268.7344-.82.0044-.1381-.045-.2593-.1494-.3631z",fillRule:"evenodd"})))}},817:function(e,t,n){"use strict";var a,s=n(7294);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",_extends({fill:"none",viewBox:"0 0 14 13",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=s.createElement("path",{clipRule:"evenodd",d:"m2.2023 4.98519c0-1.85549 1.50952-3.3653 3.36548-3.3653 1.85559 0 3.36511 1.50981 3.36511 3.3653s-1.50952 3.3653-3.36511 3.3653c-1.85596 0-3.36548-1.50981-3.36548-3.3653zm6.97224 2.82604c.5826-.77638.93206-1.7415.93206-2.79193 0-2.55333-2.04315-4.623273-4.56395-4.623273s-4.564379 2.069943-4.564379 4.623273 2.043579 4.62328 4.564379 4.62328c1.04314 0 2.00167-.35852 2.7706-.95524l2.51755 2.55006c.703.7125 1.6603.9515 2.3849.6676z",fillRule:"evenodd"})))}},505:function(e,t,n){"use strict";n.d(t,{w:function(){return getQueryData}});var a=n(2729),s=n(8687);function _templateObject(){let e=(0,a._)(["\n  query ($electionId: String!) {\n    election(id: $electionId) {\n      electionType\n      displayName\n      seatsAvailable\n      seatsDeclared\n      votingAreasCount\n      votingAreasDeclared\n      ... on LocalCouncilElection {\n        partyResults {\n          party {\n            abbreviation\n            displayName\n            name\n          }\n          seats {\n            count\n            change\n          }\n          councils {\n            count\n            change\n          }\n        }\n        votingAreas {\n          shortName\n          name\n          id\n          declaredAt\n          votingStatus\n          gainOrHold: gainHold\n          previouslyControllingParty {\n            displayName\n            name\n          }\n          controllingParty {\n            displayName\n            name\n            abbreviation\n          }\n        }\n      }\n      ... on UkGeneralElection {\n        electorate\n        turnout\n        turnoutPercentage\n        turnoutPercentageChange\n        announcement {\n          message\n          subject\n        }\n        partyResults {\n          seats {\n            count\n            change\n          }\n          party {\n            abbreviation\n            name\n            displayName\n          }\n          ... on UkGeneralElectionPartyResult {\n            votes {\n              count\n              change\n              percentage\n              percentageChange\n            }\n          }\n        }\n        votingAreas {\n          shortName\n          name\n          id\n          number\n          votingStatus\n          declaredAt\n          ... on UkGeneralVotingArea {\n            electedCandidate {\n              party {\n                abbreviation\n                displayName\n                name\n              }\n            }\n            previouslyElectedCandidate {\n              party {\n                displayName\n                name\n              }\n            }\n            gainOrHold: gainHold\n          }\n        }\n      }\n      ... on NorthernIrelandElection {\n        partyResults {\n          seats {\n            count\n            change\n          }\n          party {\n            abbreviation\n            name\n            displayName\n          }\n          ... on NorthernIrelandElectionPartyResult {\n            firstPreferenceVotes {\n              count\n              change\n              percentage\n              percentageChange\n            }\n          }\n        }\n        votingAreas {\n          shortName\n          name\n          id\n          votingStatus\n        }\n      }\n    }\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  query ($electionId: String!, $votingAreaId: String!) {\n    votingArea(electionId: $electionId, id: $votingAreaId) {\n      shortName\n      votingStatus\n      ... on LocalCouncilVotingArea {\n        controllingParty {\n          abbreviation\n          displayName\n          name\n        }\n        gainOrHold: gainHold\n        previouslyControllingParty {\n          displayName\n          name\n        }\n        parties {\n          party {\n            abbreviation\n            name\n            displayName\n          }\n          seatCount\n          seatsChange\n          majority\n        }\n      }\n      ... on UkGeneralVotingArea {\n        electorate\n        turnoutPercentage\n        nominations {\n          candidate {\n            firstName\n            surname\n          }\n          party {\n            abbreviation\n            name\n            displayName\n          }\n          voteCount\n          votePercentage\n          votePercentageChange\n        }\n        gainOrHold: gainHold\n        majority\n        majorityShare\n        electedCandidate {\n          party {\n            name\n            abbreviation\n            displayName\n          }\n        }\n        previouslyElectedCandidate {\n          party {\n            displayName\n            name\n          }\n        }\n      }\n      ... on NorthernIrelandVotingArea {\n        electorate\n        turnoutPercentage\n        seats\n        seatsDeclared\n        stage\n        quota\n        partyResults {\n          party {\n            abbreviation\n            displayName\n            name\n          }\n          firstPreferenceVotes {\n            percentage\n            percentageChange\n          }\n        }\n        nominations {\n          candidate {\n            firstName\n            surname\n          }\n          party {\n            abbreviation\n            displayName\n            name\n          }\n          firstPreferenceVoteCount\n          firstPreferenceVotePercentage\n          stage\n          resultStatus\n          seat\n        }\n        electedCandidates {\n          candidate {\n            firstName\n            surname\n          }\n          party {\n            abbreviation\n            displayName\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return _templateObject1=function(){return e},e}let UnsupportedElectionTypeError=class UnsupportedElectionTypeError extends Error{constructor(e){super("Unsupported election type '".concat(e,"' when getting GQL query.")),this.name="UnsupportedElectionTypeError"}};let i=(0,s.gql)(_templateObject()),r=(0,s.gql)(_templateObject1()),getQueryData=(e,t)=>{if(!["UK_GENERAL","NORTHERN_IRELAND","ENGLISH_COUNCIL"].includes(t||""))throw new UnsupportedElectionTypeError(t);if("ELECTIONS_DATA_QUERY"===e)return{key:"ELECTIONS_DATA_QUERY",query:i,validate:e=>null!=e&&!!e.election};if("CONSTITUENCY_DATA_QUERY"===e)return{key:"CONSTITUENCY_DATA_QUERY",query:r,validate:e=>{var t;return null!=e&&!!e.votingArea&&null!=e&&null!==(t=e.votingArea)&&void 0!==t&&!!t.shortName}};throw Error("Unsupported query type '".concat(e,"'."))}},7019:function(e,t,n){"use strict";function manuallyTrackClick(e){if(void 0!==window.skyTags){let{skyTags:t}=window;t.queue.push(["event",t.builders.elementToEvent(e)],["track"])}}n.d(t,{j:function(){return manuallyTrackClick}})},2993:function(e,t,n){"use strict";n.d(t,{Nu:function(){return getConsituencyTypeComponent},mR:function(){return getElectionTypeComponent},Vd:function(){return getElectionTypeIframeComponent}});var a,s,i,r=n(5893),o=n(7294),l=n(5697),c=n.n(l),d=n(5268),u=n(7166),p=n.n(u),h=n(1664),m=n.n(h),v=n(3367),y=n(4466),g=n.n(y);let b=p().bind(g());function SectionHeader(e){let{modifier:t="",style:n,size:a,tag:s="h2",text:i="",children:o,id:l="",VOText:c,href:d=""}=e,u=(0,r.jsxs)("div",{className:"".concat(b("section-header")," ").concat(t),style:{...n},"data-size":a,"data-testid":"ui-section-header",children:[(0,r.jsxs)(s,{className:b("section-header-title"),id:l,"data-testid":"ui-section-header-title",children:[(0,r.jsx)("span",{"aria-hidden":"true",children:i}),(0,r.jsx)("span",{className:"u-hide-visually",children:c||i})]}),o,d&&(0,r.jsx)(v.Z,{className:b("section-header-chevron"),"aria-hidden":"true"})]});return d?(0,r.jsx)(m(),{href:d,passHref:!0,id:"election-seats-iframe-link",style:{textDecoration:"none"},onClick:()=>void(window&&window.top&&window.top.postMessage({type:"iframe-banner-click",context:i},"*")),className:"".concat(b("section-header-link")),target:"_parent",children:u}):u}SectionHeader.propTypes={modifier:c().string,style:c().object,tag:c().string,text:c().any,children:c().any,size:c().number,id:c().string,VOText:c().string,href:c().string},(a=s||(s={})).desc="desc",a.asc="asc";let getItem=(e,t,n)=>e.find(e=>{let a=t.split(".").reduce((e,t)=>e?e[t]:null,e);if(a&&a===n)return e}),splitArrayByValues=(e,t,n)=>{let a=t.map(t=>getItem(n,e,t)).filter(e=>void 0!==e),s=n.filter(e=>!a.includes(e));return{newArray:a,oldArray:s}},compare=(e,t,n)=>{let a=n[0].sortField.split(".").reduce((e,t)=>e[t],e),i=n[0].sortField.split(".").reduce((e,t)=>e[t],t),r=n[0].direction?n[0].direction:s.asc;return a<i?r===s.desc?1:-1:a>i?r===s.desc?-1:1:n.length>1?compare(e,t,n.slice(1)):0},sortItems=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.sort((e,n)=>compare(e,n,t)),e},mergeItems=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.slice(0,e),s=t.slice(e),i={};return 0===s.length?a:(s.forEach(e=>{Object.assign(i,e)}),s.forEach(e=>{Object.entries(e).forEach(e=>{"number"==typeof e[1]&&(i[e[0]]=0)})}),s.forEach(e=>{Object.entries(e).forEach(e=>{"number"==typeof e[1]&&(i[e[0]]+=e[1])})}),Object.entries(n).forEach(e=>{i[e[0]]=e[1]}),[...a,i])};var f=n(2370),x=n.n(f),j=n(3481);let _=p().bind(x());function Seat(e){let{seat:t,history:n}=e;return(0,r.jsxs)("li",{className:_("seats-item"),style:{"--start":n[1],"--end":n[0]},"data-testid":"ui-election-seats-item",children:[(0,r.jsxs)("div",{className:_("seats-result"),"data-party":t.party.abbreviation,"data-testid":"ui-election-seats-result",children:[(0,r.jsxs)("div",{className:_("seats-party"),"data-testid":"ui-election-seats-party",children:[(0,r.jsx)("span",{className:"u-hide-visually",children:t.party.name}),(0,r.jsx)("span",{"aria-hidden":"true",children:(0,j.sO)({value:t.party.displayName,replace:{old:new RegExp(/\bSF\b/),new:"Sinn Fein"}})})]}),(0,r.jsxs)("div",{className:"".concat(_("seats-count")," display-any"),"data-testid":"ui-election-seats-count",children:[(0,r.jsx)("span",{"aria-hidden":"true",children:(0,j.sO)({value:(0,j.ER)(t.seatCount)})}),(0,r.jsxs)("span",{className:"u-hide-visually",children:["Seats ",(0,j.sO)({value:(0,j.ER)(t.seatCount),fallback:"Undeclared"})]})]})]}),(0,r.jsxs)("div",{className:_("seats-change"),"data-change":Math.sign(t.seatChange)||0,"data-testid":"ui-election-seats-change",children:[(0,r.jsx)("span",{"aria-hidden":"true",children:(0,j.xz)((0,j.sO)({value:(0,j.ER)(t.seatChange)}))}),(0,r.jsxs)("span",{className:"u-hide-visually",children:["Change in seats"," ",(0,j.xz)((0,j.sO)({value:(0,j.ER)(t.seatChange),fallback:"Undeclared"}))]})]})]})}let N=p().bind(x());function ElectionSeats(e){let{modifier:t="",style:n,seats:a=[],items:i=6,mainParties:l=[],mainPartyKey:c="party.abbreviation",sortBy:d="seatCount",lastItemName:u="Other",theme:p=""}=e,{newArray:h,oldArray:m}=splitArrayByValues(c,l,a);d&&sortItems(h,[{sortField:d,direction:s.desc}]);let v=mergeItems(i-1,[...h,...m],{party:{displayName:u,abbreviation:u,name:"Other parties"}}),[y,g]=(0,o.useState)(!0),[b,f]=(0,o.useState)(h.reduce((e,t,n)=>({...e,[t.party.abbreviation]:[n]}),{}));return(0,o.useEffect)(()=>{h.forEach((e,t)=>{f(n=>({...n,[e.party.abbreviation]:[t,...n[e.party.abbreviation]]}))}),g(!1),setTimeout(()=>g(!0),50)},[a]),(0,r.jsx)("div",{className:"".concat(N("seats")," ui-glass-swoosh ").concat(t),style:n,"data-animating":y,"data-testid":"ui-election-seats","data-theme":p,children:(0,r.jsx)("ul",{className:"".concat(N("seats-list")," display-any"),"data-testid":"ui-election-seats-list",children:v.map((e,t)=>(0,r.jsx)(Seat,{seat:e,history:b[e.party.abbreviation]||[i-1,i-1]},t))})})}ElectionSeats.propTypes={modifier:c().string,style:c().object,seats:c().array,items:c().number,mainParties:c().array,mainPartyKey:c().string,sortBy:c().string,lastItemName:c().string,theme:c().string};var w=n(4646),C=n.n(w);let E=p().bind(C());function Status(e){let{status:t}=e;return(0,r.jsx)("ul",{className:"".concat(E("status")," display-any"),"data-testid":"ui-election-status",children:t.map((e,t)=>{let{name:n,value:a,skipValue:s=!1}=e;return(0,r.jsxs)("li",{className:E("status-item"),"data-testid":"ui-election-status-item",children:[(0,r.jsx)("span",{className:"u-hide-visually",children:s?n:"".concat(n," ").concat((0,j.sO)({value:a,replace:{old:"/",new:" of "},fallback:"Undeclared"}))}),(0,r.jsx)("span",{"aria-hidden":"true",children:n}),!s&&(0,r.jsx)("strong",{"aria-hidden":"true",className:"display-any",children:(0,j.sO)({value:a})})]},t)})})}let roundToXDecimalPlaces=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(e*10**t)/10**t};var S=n(4994),I=n.n(S);let A=p().bind(I());function StackedBar(e){let t,n,{party:a="",votePercentage:s=0,votePercentageChange:i=0,relativeValue:o=100}=e,l=(s+-1*i)/o,c=i>0?"right":"left",d=i>0?"":a;return roundToXDecimalPlaces(i)&&(t=(0,r.jsx)("div",{"data-party":d,className:A("voteshare-arrow--".concat(c)),"aria-hidden":"true"})),null!==i&&(n=(0,r.jsx)("div",{className:A("voteshare-change"),"data-testid":"ui-election-voteshare-change",children:(0,j.xz)(roundToXDecimalPlaces(i))})),(0,r.jsx)("div",{className:A("voteshare-group"),children:(0,r.jsxs)("div",{className:A("voteshare-bar"),"data-direction":c,"data-change":roundToXDecimalPlaces(i),style:{"--bar-current-width":s/o,"--bar-previous-width":l},children:[(0,r.jsxs)("div",{className:A("voteshare-bar-body"),"aria-hidden":"true",children:[(0,r.jsx)("div",{"data-party":a,"data-direction":c,className:"".concat(A("voteshare-bar-current")," ui-glass-swoosh"),"data-testid":"ui-election-voteshare-bar-current"}),(0,r.jsx)("div",{"data-party":a,"data-direction":c,className:A("voteshare-bar-previous"),"data-testid":"ui-election-voteshare-bar-previous"})]}),t,n]})})}let k=p().bind(I());function VoteShareGraph(e){let t,{voteShare:n=[],mainParties:a=[],mainItemsLength:i=4,sortBy:l="votePercentage",changeLabel:c=""}=e;if(void 0===n||n.length<1)return(0,r.jsx)(o.Fragment,{});let d=[...n];if(d.length<=a.length+1)sortItems(t=d,[{sortField:l,direction:s.desc}]);else{let{newArray:e,oldArray:n}=splitArrayByValues("party.abbreviation",a,d);sortItems(n,[{sortField:l,direction:s.desc}]),sortItems(e,[{sortField:l,direction:s.desc}]),t=mergeItems(a.length||i,[...e,...n],{party:{displayName:"Other",abbreviation:"Other",name:"Other parties"}});let r=t.pop();sortItems(t,[{sortField:l,direction:s.desc}]),t.push(r)}let u=0,p=0;return t.forEach(e=>{"Ind"===e.party.displayName&&u++;let t=(null==e?void 0:e.votePercentage)+-1*Math.min(0,(null==e?void 0:e.votePercentageChange)||0);t>p&&(p=t)}),(0,r.jsxs)("table",{className:"".concat(k("voteshare")," display-any"),"data-testid":"ui-election-voteshare",children:[(0,r.jsx)("thead",{className:k("voteshare-header"),children:(0,r.jsxs)("tr",{"data-testid":"ui-election-voteshare-row",children:[(0,r.jsx)("th",{children:"Party"}),(0,r.jsx)("th",{children:"% Share"}),(0,r.jsx)("th",{className:k("voteshare-bar-header"),children:c})]})}),(0,r.jsx)("tbody",{children:t.map((e,t)=>{var n,a,s,i;let o=u>1&&e.candidate&&"Ind"===e.party.displayName;return(0,r.jsxs)("tr",{"data-testid":"ui-election-voteshare-row",children:[(0,r.jsxs)("td",{className:"".concat(k("voteshare-party")," display-any"),"data-testid":"ui-election-voteshare-party",children:[(0,r.jsx)("span",{className:"u-hide-visually",children:"".concat(e.party.name).concat(o?" (".concat(null===(n=e.candidate)||void 0===n?void 0:n.firstName," ").concat(null===(a=e.candidate)||void 0===a?void 0:a.surname,")"):"")}),(0,r.jsx)("span",{"aria-hidden":"true",children:(0,j.sO)({value:"".concat(e.party.displayName).concat(o?" (".concat(null===(s=e.candidate)||void 0===s?void 0:s.firstName[0]).concat(null===(i=e.candidate)||void 0===i?void 0:i.surname[0],")"):"")})})]}),(0,r.jsx)("td",{className:"".concat(k("voteshare-share")," display-any"),"data-testid":"ui-election-voteshare-share",children:"".concat(roundToXDecimalPlaces(e.votePercentage),"%")}),(0,r.jsx)("td",{className:k("voteshare-bar-change"),"data-testid":"ui-election-voteshare-bar-change",children:(0,r.jsx)(StackedBar,{party:e.party.abbreviation,votePercentage:e.votePercentage,votePercentageChange:e.votePercentageChange,relativeValue:p})})]},t)})})]})}var R=n(1163),P=n(5318),T=n(8503),O=n(533),L=n(5375),M=n.n(L);let D=p().bind(M());function AzNav(e){let{handler:t,selectedFilter:n="A",activeLetters:a=[],label:s,addButtons:i}=e;return(0,r.jsxs)("div",{className:D("az-nav"),role:"tablist","aria-label":s,"data-testid":"navigation-az",children:[i&&(0,r.jsx)("div",{className:D("az-nav-more"),children:i.map((e,t)=>(0,r.jsx)("button",{disabled:e.disabled,type:"button",onClick:()=>{e.handler(e.label)},"aria-selected":n===e.label,"data-tracking-label":"ui-az-nav/".concat(e.label.toLowerCase()),"aria-controls":"panel-".concat(e.label),id:"tab-".concat((0,P.lV)(e.label)),role:"tab","data-testid":"navigation-az-button",children:e.label},t))}),(0,r.jsx)("div",{className:D("az-nav-main"),children:[...Array(26)].map((e,s)=>{let i=String.fromCharCode(s+65),o=-1===a.indexOf(i);return(0,r.jsx)("button",{type:"button",disabled:o,onClick:()=>{t(i)},"aria-selected":n===i,"data-tracking-label":"ui-az-nav/".concat(i),"aria-controls":"panel-".concat(i),id:"tab-".concat(i),role:"tab","data-testid":"navigation-az-button",children:i},s)})})]})}var H=n(7019),V=n(9762),F=n(817);let filterMap=(e,t,n)=>{if(e.length===t){n.textContent="";return}let a=e.map(e=>'#ui-election-map-svg [data-id="'.concat((0,T.X)(e.shortName),'"]')).join(",");n.textContent="".concat(e.length!==t?"#ui-election-map-svg [data-party], #borders {pointer-events:none;fill-opacity:0;stroke-opacity:0.3} .ui-election-map-hide-on-filter {visibility:hidden} path.border {stroke: var(--map-borders-stroke-color-search)}":"").concat(a,"{pointer-events:all;fill-opacity:1;stroke-opacity:1;stroke-width:var(--map-stroke-width-search);paint-order: stroke;stroke: black}")};var G=n(7174),z=n.n(G);let B=p().bind(z());function ConstituencyList(e){let{votingAreas:t,votingAreasDeclared:n=0,votingAreasCount:a=650,statusMap:i={},statusType:l="gainOrHold",showItems:c=10,sort:d="shortName",order:u=s.asc,initialLetter:p="All",showFilterOptions:h,showSearch:v,showInColumns:y,electionType:g,inputPlaceholder:b,notFoundMessage:f}=e;sortItems(t,[{sortField:d,direction:u}]);let x=(0,R.useRouter)(),_=(0,o.useRef)(null),N=(0,o.useRef)(null),w=(0,o.useRef)(null),[C,E]=(0,o.useState)(t),[S,I]=(0,o.useState)(!1),[A,k]=(0,o.useState)(a),[L,M]=(0,o.useState)(""),[D,G]=(0,o.useState)(p),[z,U]=(0,o.useState)(!1),q=Array.from(new Set(t.map(e=>e.shortName.charAt(0)))),Z=(0,o.useRef)(null);(0,o.useEffect)(()=>{""===L?handleFilterChange(D):handleSearchChange(L),I(S)},[t]),(0,o.useEffect)(()=>{window["requestIdleCallback"in window?"requestIdleCallback":"requestAnimationFrame"](()=>{Z.current&&filterMap(C,a,Z.current)})},[C]);let resetSearch=()=>{M(""),E(t),I(!1),k(a),G(p),U(!1)},filterConstituencies=e=>{E(e),k(e.length-c),U(0===e.length)},filterConstituenciesById=e=>{let n=t.filter(t=>e.includes((0,T.X)(t.name)));filterConstituencies(n)},filterConstituenciesByString=e=>{let n=e.replace(/[.*+?^${}()|[\]\\]/g,""),a=e.length>1?RegExp("\\b".concat(n),"i"):RegExp("^".concat(n),"i"),s=t.filter(e=>e.name.match(a)||e.shortName.match(a));filterConstituencies(s)},handleSearchChange=async e=>{let t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"").toUpperCase();if(M(e),G(""),(0,O.$Y)(t)){let e=await (0,O.OP)(t,g);filterConstituenciesById(e);return}let n=(0,O.bE)(t);if(n){let e=(await Promise.all(n.map(e=>(0,O.OP)(e,g)))).flat();filterConstituenciesById(e);return}filterConstituenciesByString(e),0===e.length&&resetSearch()},handleFilterChange=e=>{if(e){if(G(e),M(""),I(!1),e.match(/all/i)){resetSearch();return}if(e.match(/declared/i)){handleDeclared();return}filterConstituenciesByString(e)}},handleToggleChange=()=>{var e;I(!S);let t=null===(e=_.current)||void 0===e?void 0:e.querySelector("li:nth-child(".concat(c,") a"));t.focus()},handleDeclared=()=>{I(!1),G("Latest declared"),M("");let e=t.filter(e=>e.votingStatus.match(/DECLARED|RUSH/));sortItems(e,[{sortField:"declaredAt",direction:s.desc}]),E(e),k(e.length-c),U(0===e.length)},Y="ui-election-constituency-list";return(0,r.jsxs)("div",{className:B("list"),"data-testid":"constituency-list",children:[(0,r.jsx)("style",{ref:Z}),(0,r.jsxs)("div",{className:B("list-navigation"),children:[v&&(0,r.jsxs)("div",{className:B("list-navigation-search"),"data-testid":"navigation-search",children:[(0,r.jsx)("input",{required:!0,"min-length":1,value:L,placeholder:b,"aria-label":b,"data-tracking-label":"".concat(Y,"/search-box"),onChange:e=>{handleSearchChange(e.target.value)},onClick:e=>{(0,H.j)(e.target)},autoComplete:"off",spellCheck:"false","data-testid":"navigation-search-input",ref:w}),(0,r.jsx)("span",{"aria-hidden":"true",className:B("list-navigation-search-icon"),children:(0,r.jsx)(F.Z,{})}),L&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("a",{className:"u-hide-visually",onClick:()=>{var e,t;if(z){null===(t=N.current)||void 0===t||t.focus();return}let n=null===(e=_.current)||void 0===e?void 0:e.querySelector("li:first-child a");null==n||n.focus()},"data-testid":"navigation-search-skip","data-tracking-label":"".concat(Y,"/search-skip-button"),children:"Skip to results"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{var e;resetSearch(),null===(e=w.current)||void 0===e||e.focus()},"data-testid":"navigation-search-clear","data-tracking-label":"".concat(Y,"/search-clear-button"),"aria-label":"Clear search",children:[" ",(0,r.jsx)(V.Z,{"aria-hidden":"true"})]},"clearButton")]})]}),h&&(0,r.jsx)(AzNav,{handler:handleFilterChange,selectedFilter:D,activeLetters:q,label:"Find constituencies by letter",addButtons:[{label:"All",handler:resetSearch,disabled:!1},{label:"Latest declared",handler:handleDeclared,disabled:0===n}]})]}),(0,r.jsx)("ul",{className:B("list-items"),ref:_,"data-expanded":S,"data-testid":"constituency-list-items","data-show-in-columns":y,role:"tabpanel","aria-labelledby":"tab-".concat(D),id:"panel-".concat(D),style:{"--rows":S?Math.ceil(C.length/2):Math.ceil(Math.min(c,C.length)/2)},children:C.slice(0,S?C.length:c).map(e=>{var t,n,a,s,o;let{shortName:c,gainOrHold:d,votingStatus:u,id:p,electedCandidate:h,previouslyElectedCandidate:v,controllingParty:y,previouslyControllingParty:g}=e;return(0,r.jsx)("li",{className:B("list-item"),"data-testid":"constituency-list-item",children:(0,r.jsxs)(m(),{href:"/elections/".concat(x.query.election,"/").concat((0,P.lV)(c),"-").concat((0,P.zv)(p,"_")),className:B("list-link"),"data-constituency-id":(0,P.zv)(p,"_"),"data-party":(null==h?void 0:null===(t=h.party)||void 0===t?void 0:t.abbreviation)||(null==y?void 0:y.abbreviation)||u||"baseline","data-testid":"constituency-list-link","data-tracking-label":"".concat(Y,"/").concat((0,P.lV)(c)),"aria-label":"".concat(c," ").concat("BASELINE"===u?"UNDECLARED":(0,j.do)({statusType:l,winner:(null==h?void 0:null===(n=h.party)||void 0===n?void 0:n.name)||(null==y?void 0:y.name),sittingParty:(null==v?void 0:null===(a=v.party)||void 0===a?void 0:a.name)||(null==g?void 0:g.name),gainOrHold:d,status:i[null==u?void 0:u.toUpperCase()]})),children:[(0,r.jsxs)("span",{className:B("list-name"),"data-testid":"constituency-list-name",children:[c," "]})," ",(0,r.jsx)("span",{className:B("list-status"),"data-testid":"constituency-list-status",children:(0,j.do)({statusType:l,winner:(null==h?void 0:null===(s=h.party)||void 0===s?void 0:s.displayName)||(null==y?void 0:y.displayName),sittingParty:(null==v?void 0:null===(o=v.party)||void 0===o?void 0:o.displayName)||(null==g?void 0:g.displayName),gainOrHold:d,status:i[null==u?void 0:u.toUpperCase()]})})]})},(0,P.lV)(c))})}),v&&!0===z&&(0,r.jsx)("div",{className:B("list-no-results"),"data-testid":"search-not-found-message",children:f}),A>0&&(0,r.jsxs)("button",{className:B("list-more"),type:"button",onClick:()=>{handleToggleChange()},"data-testid":"constituency-list-button","data-tracking-label":"".concat(Y,"/show-").concat(S?"fewer":"more"),children:["Show ",S?"fewer":"more"]})]})}var U=n(5448),q=n(1995),Z=n.n(q);let Y=p().bind(Z());function ElectionMap(e){let{modifier:t="",style:n,votingAreas:a=[],Map:s={},title:i="",mapKey:l=[],mapKeyShape:c="circle"}=e,d=(0,R.useRouter)(),u=(0,o.useRef)(),p=(0,o.useRef)(),h=(0,o.useRef)(),m=a.reduce((e,t)=>(e[(0,T.X)(t.shortName)]=t,e),{});return(0,o.useEffect)(()=>{var e,t;u.current.querySelectorAll("svg [data-id]").forEach(e=>{var t,n;let{id:a,label:s}=e.dataset,{shortName:i,votingStatus:r,id:o,electedCandidate:l,controllingParty:c}=m[a]||{},u=(0,P.lV)(i);if(e.dataset.label=i||s,"no-election"===e.dataset.party){e.dataset.partyLabel="No election";return}e.dataset.party=(null==l?void 0:null===(t=l.party)||void 0===t?void 0:t.abbreviation)||(null==c?void 0:c.abbreviation)||r||"baseline",e.dataset.partyLabel=(null==l?void 0:null===(n=l.party)||void 0===n?void 0:n.name)||(null==c?void 0:c.name)||((null==r?void 0:r.match(/BASELINE|IN_PROGRESS/))?"Undeclared":""),e.dataset.trackingLabel="ui-election-map/".concat(u),e.onclick=t=>{t.stopImmediatePropagation(),(0,H.j)(e),d.push("/elections/".concat(d.query.election,"/").concat(u,"-").concat((0,P.zv)(o,"_")))}}),e=u.current,t=p.current,["onclick","onmousemove"].forEach(n=>{e[n]=n=>{let{label:a,partyLabel:s}=n.target.dataset;a&&(t.innerHTML="<strong>".concat(a,"</strong>").concat(s||""));let{left:i,top:r}=e.getBoundingClientRect(),o=n.clientX-i,l=n.clientY-r,c=Math.min(0,window.innerWidth-(i+(o+t.offsetWidth))),d=n.target.matches("[data-id]")?1:0;t.style.cssText="left:".concat(o+c,"px; top:").concat(l,"px; opacity:").concat(d)}}),e.onmouseleave=()=>{t.style.opacity="0"}},[a]),(0,o.useEffect)(()=>{h.current.addEventListener("click",()=>{(0,H.j)(h.current.parentNode),h.current.parentNode.hasAttribute("open")?h.current.parentNode.dataset.trackingLabel="/ui-election-map/map-key/open":h.current.parentNode.dataset.trackingLabel="/ui-election-map/map-key/close"}),document.body.addEventListener("click",e=>{h.current.parentNode.contains(e.target)||h.current.parentNode.removeAttribute("open")})},[]),(0,r.jsx)("div",{className:"".concat(Y("map")," ").concat(t),style:n,"aria-hidden":"true","data-testid":"ui-election-map",id:"ui-election-map",children:(0,r.jsxs)("div",{ref:u,className:Y("map-body"),"data-testid":"ui-election-map-body",children:[(0,r.jsx)("noscript",{children:(0,r.jsx)("div",{className:"ui-nojs",children:"You need javascript enabled to view this content"})}),(0,r.jsx)("p",{className:Y("map-title"),"data-testid":"ui-election-map-title",children:i}),(0,r.jsx)(s,{className:Y("map-svg"),"aria-hidden":"true","data-testid":"ui-election-map-svg",id:"ui-election-map-svg"}),(0,r.jsx)("div",{className:Y("map-tooltip"),"data-testid":"ui-election-map-tooltip",ref:p}),l&&(0,r.jsxs)("details",{className:"".concat(Y("map-key")," font-size-any"),"data-tracking-label":"/ui-election-map/map-key/open",children:[(0,r.jsxs)("summary",{className:Y("map-key-summary"),ref:h,children:["Map Key ",(0,r.jsx)(U.Z,{})]}),(0,r.jsx)("div",{className:Y("map-key-items"),children:l.map((e,t)=>(0,r.jsxs)("div",{className:e.modifier,children:[e.label," ","circle"===c&&(0,r.jsx)("svg",{viewBox:"0 0 18 18",children:(0,r.jsx)("circle",{cx:"9",cy:"9",r:"8","data-party":e.party})}),"hexagon"===c&&(0,r.jsx)("svg",{viewBox:"0 0 720 600",children:(0,r.jsx)("polygon",{points:"723,314 543,625.769145 183,625.769145 3,314 183,2.230855 543,2.230855 723,314","data-party":e.party})})]},t))})]})]})})}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}ElectionMap.propTypes={modifier:c().string,style:c().object,votingAreas:c().array,Map:c().func,title:c().string,mapKey:c().array,mapKeyShape:c().string};var info=function(e){return o.createElement("svg",_extends({role:"img",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=o.createElement("g",{transform:"translate(0 -.5)",clipRule:"evenodd",fillRule:"evenodd"},o.createElement("path",{d:"m7.5 0.5c-4.14 0-7.5 3.36-7.5 7.5 0 4.14 3.36 7.5 7.5 7.5 4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5zm0 0.938c3.62 0 6.56 2.94 6.56 6.56 0 3.62-2.94 6.56-6.56 6.56-3.62 0-6.56-2.94-6.56-6.56 0-3.62 2.94-6.56 6.56-6.56z"}),o.createElement("path",{d:"m7.5 6.3c-0.301 0-0.555 0.0905-0.555 0.436v5.73c0.376 0.0539 1.1 0.167 1.1-0.399v-5.73c-0.18-0.0262-0.361-0.037-0.542-0.037z",fill:"var(--summary-i-color)"}),o.createElement("path",{d:"m8.33 4.21c0 0.453-0.367 0.82-0.82 0.82-0.453 0-0.82-0.368-0.82-0.82 0-0.453 0.368-0.82 0.82-0.82 0.453 0 0.82 0.367 0.82 0.82z",fill:"var(--summary-i-color)"}))))},K=n(8833),X=n.n(K);let W=p().bind(X());function Info(e){let{modifier:t="",style:n,children:a,title:s="More information",parentId:i}=e,l=(0,o.useRef)(),c=(0,o.useRef)();return(0,o.useEffect)(()=>{function closeInfo(e){("click"!==e.type||l.current.contains(e.target))&&"resize"!==e.type||requestAnimationFrame(()=>{l.current.open=null})}return l.current.addEventListener("toggle",e=>{if(e.target.open){var t,n,a;e.stopImmediatePropagation(),e.target.style.setProperty("--bubble-x-offset","".concat(0,"px"));let s=Math.min(0,e.target.getBoundingClientRect().left-c.current.getBoundingClientRect().left-30);e.target.style.setProperty("--bubble-x-offset","".concat(s,"px")),null===(t=c.current)||void 0===t||t.focus(),null===(a=c.current)||void 0===a||null===(n=a.scrollIntoViewIfNeeded)||void 0===n||n.call(a),window.addEventListener("resize",closeInfo,{once:!0}),document.body.addEventListener("click",closeInfo,{once:!0}),(0,H.j)(l.current)}}),()=>{document.body.removeEventListener("click",closeInfo),window.removeEventListener("resize",closeInfo)}},[]),(0,r.jsxs)("details",{className:"".concat(W("info")," ").concat(t),style:n,ref:l,"data-tracking-label":"ui-info/".concat(i,"/open"),"data-testid":"ui-info",children:[(0,r.jsxs)("summary",{className:W("info-summary"),"data-testid":"ui-info-summary",children:[s,(0,r.jsx)(info,{className:W("info-summary-icon"),"aria-hidden":"true","data-testid":"ui-info-summary-icon"})]}),(0,r.jsx)("div",{className:W("info-bubble"),"aria-live":"polite",tabIndex:"0",ref:c,"data-testid":"ui-info-bubble",children:a})]})}Info.propTypes={modifier:c().string,style:c().object,children:c().any,title:c().string,parentId:c().string};var $=n(5078);function MapRegion(e){let{data:t,map:n}=e;return(0,r.jsx)("div",{style:{"--basis":"464px"},children:(0,r.jsx)(ElectionMap,{Map:n,votingAreas:t.election.votingAreas,title:"Northern Ireland Constituencies"})})}function NorthernIrelandAssembly(e){var t,n,a;let{data:s,election:i}=e,l=$.Z.NORTHERN_IRELAND[i.year];return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.Z,{Logo:l.logo,link:{text:"Vote ".concat(i.year," Results"),url:"/"},children:"Northern Ireland Assembly"}),(0,r.jsxs)("div",{className:"wrap gap-800",children:[(0,r.jsx)("div",{className:"display-100",children:"90 Assembly members are elected in Northern Ireland, in 18 constituencies. The system used is Single Transferable Vote, which makes it difficult for a single party to achieve a majority."}),(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-seats",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-seats",text:"Seats",children:(0,r.jsx)(Info,{parentId:"election-seats",children:"There are 90 seats in total, five in each of the 18 constituencies. Candidates are guaranteed election if their first preference vote exceeds the quota established in their constituency. Vote transfers decide the remaining seats. No party has ever achieved a majority in the Assembly."})}),(0,r.jsx)(ElectionSeats,{seats:s.election.partyResults,items:6,mainParties:i.mainParties}),(0,r.jsx)(Status,{status:[{name:"Seats",value:"".concat((0,j.sO)({value:s.election.seatsDeclared}),"/").concat((0,j.sO)({value:s.election.availableSeats}))},{name:"Electorate",value:(0,j.ER)(s.election.electorate)},{name:"Turnout",value:(0,j.wG)(roundToXDecimalPlaces(s.election.turnoutPercentage))}]})]}),(null==s?void 0:null===(t=s.election)||void 0===t?void 0:t.partyResults)&&(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-vote-share",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-vote-share",text:"First preference vote share",children:(0,r.jsx)(Info,{parentId:"election-vote-share",children:"Parties may have more than one candidate standing in each constituency. Each party's Northern Ireland vote share is the cumulative first preference vote for all its candidates as a percentage of all valid votes."})}),(0,r.jsx)(VoteShareGraph,{voteShare:s.election.partyResults.map(e=>({...e,voteCount:e.firstPreferenceVoteCount,voteChange:e.firstPreferenceVoteChange,votePercentage:e.firstPreferenceVotePercentage,votePercentageChange:e.firstPreferenceVotePercentageChange})),mainParties:i.mainParties,changeLabel:"Change since 2017"})]}),(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-constituency-results",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-constituency-results",text:"Results by Constituencies",children:(0,r.jsx)(Info,{parentId:"election-constituency-results",children:"Details are available for each candidate standing including their name, party, first preference votes and first preference vote share. As the count progresses it will show which candidates have been elected or excluded and at what stage."})}),(0,r.jsxs)("div",{className:"grid-flex gap-300",children:[(0,r.jsx)("div",{style:{"--basis":"270px"},children:(0,r.jsx)(ConstituencyList,{showSearch:!0,votingAreas:null==s?void 0:null===(n=s.election)||void 0===n?void 0:n.votingAreas,votingAreasDeclared:null==s?void 0:null===(a=s.election)||void 0===a?void 0:a.votingAreasDeclared,votingAreasCount:s.election.votingAreasCount,statusMap:{DECLARED:"DECLARED",IN_PROGRESS:"IN PROGRESS"},statusType:"status",showItems:12,inputPlaceholder:"Search by constituency name",notFoundMessage:"Please enter a valid postcode or NI constituency name"})}),l.map&&(0,r.jsx)(MapRegion,{data:s,map:l.map})]})]})]})]})}NorthernIrelandAssembly.propTypes={components:c().object,fallbackData:c().object,election:c().object,data:c().object},MapRegion.propTypes={data:c().object,map:c().object};var Q=n(6588),J=n.n(Q);function StatusBanner(e){let{party:t,statusText:n}=e;return(0,r.jsx)("div",{className:"".concat(J().banner," ui-glass-swoosh display-any"),"data-party":t||"other","data-testid":"status-banner",children:n})}function general_election_MapRegion(e){let{data:t,election:n,map:a}=e;return(0,r.jsx)("div",{style:{"--basis":"464px"},className:"u-sticky-region",children:(0,r.jsxs)("div",{className:"u-sticky-target wrap gap-200",children:[(0,r.jsx)("div",{children:(0,r.jsx)(ElectionMap,{Map:a,votingAreas:t.election.votingAreas,mapKey:n.mapKey,mapKeyShape:"hexagon"})}),(0,r.jsxs)("p",{className:"display-fixed-25",children:["Contains OS data \xa9 Crown copyright and database right ",new Date().getFullYear()," OS 100020571",(0,r.jsx)("br",{}),"Contains Royal Mail data \xa9 Royal Mail copyright and database right ",new Date().getFullYear(),(0,r.jsx)("br",{}),"Source: Office for National Statistics licensed under the Open Government Licence v.3.0",(0,r.jsx)("br",{})]})]})})}function GeneralElection(e){var t,n,a,s,i;let{data:l,election:c}=e,u=$.Z.UK_GENERAL[c.year];return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(d.Z,{Logo:u.logo,theme:"election-theme-".concat(c.year,"-").concat(c.electionType),links:[{text:"Live coverage",url:"https://news.sky.com/politicshub",type:"live",target:"_blank",trackingLabel:"live-coverage"}],children:[c.name," ",c.year]}),(0,r.jsxs)("div",{className:"wrap gap-800",children:[(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-seats",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-seats",text:"Seats",children:(0,r.jsx)(Info,{parentId:"election-seats",children:"The number of MPs each party has in parliament. There are 650 in total, one for each constituency. A party needs 326 seats to command a majority."})}),(0,r.jsxs)("div",{className:"wrap gap-100",children:[(null===(n=l.election)||void 0===n?void 0:null===(t=n.announcement)||void 0===t?void 0:t.message)&&(0,r.jsx)(StatusBanner,{party:l.election.announcement.subject,statusText:l.election.announcement.message}),(0,r.jsx)(ElectionSeats,{seats:l.election.partyResults.map(e=>({...e,seatCount:e.seats.count,seatChange:e.seats.change})),items:5,mainParties:c.mainParties})]}),(0,r.jsx)(Status,{status:[{name:"Seats to win",value:"326"},{name:"Seats declared",value:"".concat((0,j.sO)({value:l.election.votingAreasDeclared}),"/").concat((0,j.sO)({value:l.election.votingAreasCount}))},{name:"Turnout",value:"".concat((0,j.wG)(roundToXDecimalPlaces(l.election.turnoutPercentage))," (").concat((0,j.xz)(roundToXDecimalPlaces(l.election.turnoutPercentageChange)),")")}]})]}),(null==l?void 0:null===(a=l.election)||void 0===a?void 0:a.partyResults)&&(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-vote-share",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-vote-share",text:"Vote share",children:(0,r.jsx)(Info,{parentId:"election-vote-share",children:"The percentage of votes each party has received and how it's changed since the last election. If a party's votes are spread thinly across lots of constituencies, they might win fewer seats than others despite having a higher vote share."})}),(0,r.jsx)(VoteShareGraph,{voteShare:l.election.partyResults.map(e=>({...e,votePercentage:e.votes.percentage,votePercentageChange:e.votes.percentageChange})),mainParties:c.mainParties,changeLabel:"Change since 2019"})]}),(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-constituency-results",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-constituency-results",text:"Results by Constituencies",children:(0,r.jsx)(Info,{parentId:"election-constituency-results",children:"The results from each of the 650 individual elections across the country. You can see the votes each candidate received as well as the voter turnout."})}),(0,r.jsxs)("div",{className:"grid-flex gap-300",style:{"--align":"stretch","--align-children":"start"},children:[(0,r.jsx)("div",{style:{"--basis":"270px"},children:(0,r.jsx)(ConstituencyList,{showFilterOptions:!0,showSearch:!0,votingAreas:null==l?void 0:null===(s=l.election)||void 0===s?void 0:s.votingAreas,votingAreasDeclared:null==l?void 0:null===(i=l.election)||void 0===i?void 0:i.votingAreasDeclared,votingAreasCount:l.election.votingAreasCount,statusType:"gainOrHold",statusMap:{DECLARED:"DECLARED",IN_PROGRESS:"IN PROGRESS"},showItems:12,electionType:c.electionType,inputPlaceholder:"Search by constituency name or postcode",notFoundMessage:"Please enter a valid postcode or UK constituency name"})}),u.map&&(0,r.jsx)(general_election_MapRegion,{data:l,election:c,map:u.map})]})]})]})]})}function local_councils_MapRegion(e){let{data:t,map:n}=e;return(0,r.jsx)("div",{style:{"--basis":"464px"},className:"u-sticky-region",children:(0,r.jsxs)("div",{className:"wrap gap-200 u-sticky-target",children:[(0,r.jsx)("div",{children:(0,r.jsx)(ElectionMap,{Map:n,votingAreas:t.election.votingAreas,mapKey:[{label:"Con",party:"c"},{label:"Lab",party:"lab"},{label:"Lib Dem",party:"lib-dem"},{label:"Green",party:"green"},{label:"NOC/Oth",party:"other"},{label:"Undeclared",party:"baseline"},{label:"No election",party:"no-election",modifier:"ui-election-map-hide-on-filter"}]})}),(0,r.jsxs)("p",{className:"display-fixed-25",children:["Contains OS data \xa9 Crown copyright and database right ",new Date().getFullYear()," OS 100020571",(0,r.jsx)("br",{}),"Contains Royal Mail data \xa9 Royal Mail copyright and database right ",new Date().getFullYear(),(0,r.jsx)("br",{}),"Source: Office for National Statistics licensed under the Open Government Licence v.3.0",(0,r.jsx)("br",{})]})]})})}function LocalCouncils(e){var t,n,a;let{data:s,election:i}=e,l=$.Z.ENGLISH_COUNCIL[i.year];return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.Z,{Logo:l.logo,children:i.name}),(0,r.jsxs)("div",{className:"wrap gap-800",children:[(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-seats",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-seats",text:"Seats",children:(0,r.jsx)(Info,{parentId:"election-seats",children:"The number of seats each party has won across all councils and how it's changed since the last election."})}),(0,r.jsx)(ElectionSeats,{seats:s.election.partyResults.map(e=>({...e,seatCount:e.seats.count,seatChange:e.seats.change})),items:5,mainParties:i.mainParties})]}),(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-councils",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-councils",text:"Councils",children:(0,r.jsx)(Info,{parentId:"election-councils",children:"The number of councils where each party has won a majority of seats and how it's changed from before the election. Councils with no overall control are where no party has a majority."})}),(0,r.jsx)(ElectionSeats,{seats:s.election.partyResults.map(e=>({...e,seatCount:e.councils.count,seatChange:e.councils.change})),items:5,mainParties:i.mainParties,sortBy:"seats.count",lastItemName:"NOC/Oth"}),(0,r.jsx)(Status,{status:[{name:"Councils declared",value:"".concat((0,j.sO)({value:s.election.votingAreasDeclared,fallback:0}),"/").concat((0,j.sO)({value:s.election.votingAreasCount}))},{name:"NOC = No overall control",skipValue:!0}]})]}),(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-constituency-results",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-constituency-results",text:"Results by Council",children:(0,r.jsx)(Info,{parentId:"election-constituency-results",children:"The results from each of the individual council elections."})}),(0,r.jsxs)("div",{className:"grid-flex gap-300",style:{"--align":"stretch","--align-children":"start"},children:[(0,r.jsx)("div",{style:{"--basis":"270px"},children:(0,r.jsx)(ConstituencyList,{showFilterOptions:!0,showSearch:!0,votingAreas:null==s?void 0:null===(t=s.election)||void 0===t?void 0:t.votingAreas,votingAreasDeclared:null===(n=s.election)||void 0===n?void 0:n.votingAreasDeclared,votingAreasCount:null===(a=s.election)||void 0===a?void 0:a.votingAreasCount,statusType:"gainOrHold",statusMap:{DECLARED:"DECLARED",IN_PROGRESS:"IN PROGRESS"},showItems:12,electionType:i.electionType,inputPlaceholder:"Search by council name or postcode",notFoundMessage:"Council not found. Either it's not up for re-election, or you entered an invalid name or postcode."})}),l.map&&(0,r.jsx)(local_councils_MapRegion,{data:s,map:l.map})]})]})]})]})}GeneralElection.propTypes={components:c().object,fallbackData:c().object,election:c().object,data:c().object},general_election_MapRegion.propTypes={election:c().object,data:c().object,map:c().object},LocalCouncils.propTypes={components:c().object,fallbackData:c().object,election:c().object,data:c().object},local_councils_MapRegion.propTypes={data:c().object,map:c().object};var ee=n(2837),et=n.n(ee);let en=p().bind(et());function Member(e){let{member:t}=e,n=[null==t?void 0:t.candidate.firstName,null==t?void 0:t.candidate.surname].join(" ").trim();return(0,r.jsxs)("li",{className:en("members-item"),...!t&&{"aria-hidden":"true"},"data-testid":"ui-elected-members-item",children:[(0,r.jsx)("div",{className:en("members-icon"),children:(0,r.jsxs)("svg",{fill:"none","aria-hidden":"true",role:"img",viewBox:"0 0 54 66",children:[(0,r.jsx)("clipPath",{id:"clip",children:(0,r.jsx)("path",{clipRule:"evenodd",d:"m38.3859 30.0926c-.7503-.2472-1.5618-.1093-2.2465.2778-2.6994 1.5291-5.8144 2.4063-9.1394 2.4063-3.3228 0-6.4378-.8772-9.1372-2.4063-.6847-.3871-1.4962-.525-2.2444-.2778-8.79809 2.9138-14.8684 9.0978-14.8684 16.2553v19.4666h52.5v-19.4666c0-7.1575-6.0681-13.3415-14.8641-16.2553zm-11.3852-1.9073c7.7329 0 14-6.2672 14-14 0-7.73061-6.2671-13.9978-14-13.9978-7.7328 0-14 6.26719-14 13.9978 0 7.7328 6.2672 14 14 14z",fillRule:"evenodd"})}),(0,r.jsx)("foreignObject",{x:"0",y:"0",width:"54",height:"66",clipPath:"url(#clip)",children:(0,r.jsx)("div",{style:{width:"100%",height:"100%"},"data-party":(0,j.sO)({value:null==t?void 0:t.party.abbreviation,fallback:"Undeclared"}),xmlns:"http://www.w3.org/1999/xhtml"})})]})}),(0,r.jsxs)("div",{className:en("members-body"),children:[(0,r.jsxs)("div",{className:en("members-party"),"data-testid":"ui-elected-members-party",children:[(0,r.jsx)("span",{className:"u-hide-visually",children:null==t?void 0:t.party.name}),(0,r.jsx)("strong",{"aria-hidden":"true",children:(0,j.sO)({value:null==t?void 0:t.party.abbreviation,replace:{old:new RegExp(/\bSF\b/),new:"Sinn Fein"},fallback:""})})]}),(0,r.jsx)("div",{className:en("members-name"),"data-testid":"ui-elected-members-name",children:(0,r.jsx)("span",{children:n})})]})]})}Member.propTypes={member:c().object,id:c().string};let ea=p().bind(et()),getMembers=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[];for(let a=0;a<t;a++)n.push((0,r.jsx)(Member,{member:e[a],id:"mla-".concat(a)},"mla-".concat(a)));return n};function ElectionMembers(e){let{modifier:t="",style:n,data:a,seats:s}=e;return(0,r.jsx)("div",{className:"".concat(ea("members")," ").concat(t),style:n,"data-testid":"ui-elected-members",children:(0,r.jsx)("ul",{className:ea("members-list"),"data-testid":"ui-elected-members-list",children:getMembers(a,s)})})}ElectionMembers.propTypes={modifier:c().string,style:c().object,data:c().array,seats:c().number};var es=n(8354),ei=n(288),er=n.n(ei);function setOverflow(e){if(!e)return;let{scrollWidth:t,offsetWidth:n,scrollLeft:a}=e;window.requestAnimationFrame(()=>{e.parentNode.dataset.overflow=t-n-a>5})}let eo=p().bind(er()),el=o.createContext([]);function Table(e){let{children:t=[],layout:n=[],keys:a=[],footnotes:s=[],theme:i=""}=e,l=(0,o.useRef)(null);return(0,o.useEffect)(()=>{l.current.addEventListener("scroll",setOverflow.bind(null,l.current));let e=new(window.ResizeObserver||es.do)(()=>setOverflow(l.current));e.observe(l.current)},[]),(0,r.jsx)(el.Provider,{value:n,children:(0,r.jsxs)("div",{className:eo("table-container"),"data-theme":i,"data-testid":"ui-table-container",children:[(0,r.jsx)("div",{className:eo("table-key"),"aria-hidden":"true",children:a.map((e,t)=>(0,r.jsx)("span",{className:eo("table-key-item"),"data-table-icon":(0,j.sO)({value:e.value,replace:{old:" ",new:"-"}}),children:e.value},t))}),(0,r.jsx)("div",{className:eo("table-overflow-wrap"),children:(0,r.jsx)("div",{className:eo("table-overflow"),ref:l,children:(0,r.jsxs)("table",{className:eo("table"),style:{"--cols":n.length},"data-testid":"ui-table",children:[(0,r.jsx)("colgroup",{children:n.map((e,t)=>{var n;return(0,r.jsx)("col",{"data-layout":e,style:{"--col-width":null===(n=e.match(/(\d+(\.\d+)?%)/))||void 0===n?void 0:n[0]}},t)})}),t]})})}),s&&(0,r.jsx)("div",{className:eo("table-footnotes"),children:s.map((e,t)=>(0,r.jsx)("span",{className:"".concat(eo("table-footnotes-item")," ").concat(e.modifier),children:e.value},t))})]})})}let ec=o.memo(function(e){let{values:t=[],fallback:n="No Data"}=e,a=(0,o.useContext)(el);return(0,r.jsx)("tr",{children:t.map((e,t)=>(0,r.jsxs)("td",{className:"".concat(e.modifier?eo("table-".concat(e.modifier.toLowerCase())):""),"data-layout":a[t],...e.dataset,children:[(0,r.jsx)("span",{className:"u-hide-visually",children:"-"===(0,j.sO)({value:e.value})?n:e.value}),(0,r.jsx)("span",{className:eo("table-long-value"),"aria-hidden":"true","data-testid":"ui-table-long-value",children:(0,j.sO)({value:e.value})}),(null==e?void 0:e.icon)==="-"?(0,r.jsx)("span",{className:eo("table-short-value"),"aria-hidden":"true","data-testid":"ui-table-short-value",children:e.icon}):(0,r.jsx)("span",{className:eo("table-short-value-icon"),"aria-hidden":"true","data-table-icon":null==e?void 0:e.icon,children:(null==e?void 0:e.icon)?"":(0,j.sO)({value:(null==e?void 0:e.shortValue)||(null==e?void 0:e.value)})})]},t))})});function NorthernIrelandAssemblyConstituency(e){var t,n,a,s,i,l,c,u,p,h,m,v,y;let{election:g,data:b}=e,f=$.Z.NORTHERN_IRELAND[g.year],x=(null==b?void 0:null===(t=b.votingArea)||void 0===t?void 0:t.votingStatus)==="BASELINE"?sortItems(null==b?void 0:null===(n=b.votingArea)||void 0===n?void 0:n.nominations,[{sortField:"candidate.surname"},{sortField:"candidate.firstName"}]):null==b?void 0:null===(a=b.votingArea)||void 0===a?void 0:a.nominations;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.Z,{Logo:f.logo,links:[{text:"Full results",url:"/elections/".concat(g.slug),backLink:!0,hiddenTextPrefix:"Back to"}],children:null===(s=b.votingArea)||void 0===s?void 0:s.shortName}),(0,r.jsxs)("div",{className:"wrap gap-800",children:[(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"elected-mlas",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"elected-mlas",text:(0,r.jsxs)("span",{children:["Elected MLA",(0,r.jsx)("small",{children:"s"})]}),VOText:"Elected MLAs",children:(0,r.jsx)(Info,{parentId:"elected-mlas",children:"The public elect five Members of the Legislative Assembly (MLA) per constituency. The name and party of the five elected candidates appear in order of their election."})}),(0,r.jsx)(ElectionMembers,{data:null===(i=b.votingArea)||void 0===i?void 0:i.electedCandidates,seats:null===(l=b.votingArea)||void 0===l?void 0:l.seats}),(0,r.jsx)(Status,{status:[{name:"Seats",value:"".concat((0,j.sO)({value:null===(c=b.votingArea)||void 0===c?void 0:c.seatsDeclared,fallback:0}),"/").concat((0,j.sO)({value:null===(u=b.votingArea)||void 0===u?void 0:u.seats,fallback:5}))},{name:"Stage",value:null===(p=b.votingArea)||void 0===p?void 0:p.stage},{name:"Turnout",value:(null===(h=b.votingArea)||void 0===h?void 0:h.turnoutPercentage)&&(0,j.wG)(roundToXDecimalPlaces(null===(m=b.votingArea)||void 0===m?void 0:m.turnoutPercentage))}]})]}),(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-results",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-results",text:"Result",children:(0,r.jsx)(Info,{parentId:"election-results",children:"Candidates are listed in descending order of first preference votes. Each candidate's status is shown as elected/not elected/excluded and the counting stage when that status was decided."})}),(0,r.jsxs)(Table,{layout:["name bold 33%","name 25%","cell bold 13%","cell 9%","cell 9%","cell 10%"],keys:[{value:"Elected"},{value:"Excluded"},{value:"Not Elected"}],footnotes:[{value:"* First preference vote",modifier:"ui-table-short-value"}],theme:"elections",children:[(0,r.jsx)(Table.Header,{values:[{value:"Party"},{value:"Candidate"},{value:"Status"},{value:"Stage"},{value:"1st Pref Votes",shortValue:"FPV*"},{value:"%"}]}),(0,r.jsx)(Table.Body,{children:null==x?void 0:x.map((e,t)=>{var n;let a=(0,j.fm)(null===(n=e.resultStatus)||void 0===n?void 0:n.toLowerCase());return(0,r.jsx)(Table.Row,{values:[{value:e.party.name,shortValue:(0,j.sO)({value:e.party.displayName||e.party.abbreviation}),dataset:{"data-party":e.party.abbreviation}},{value:"".concat(e.candidate.firstName," ").concat(e.candidate.surname),shortValue:e.candidate.surname},{value:(0,j.sO)({value:a,replace:{old:"_",new:" "}}),modifier:a,icon:(0,j.sO)({value:a,replace:{old:"_",new:"-"}})},{value:e.stage},{value:(0,j.ER)(e.firstPreferenceVoteCount)},{value:e.firstPreferenceVotePercentage&&(0,j.wG)(roundToXDecimalPlaces(e.firstPreferenceVotePercentage))}]},t)})})]}),(0,r.jsx)(Status,{status:[{name:"Quota",value:(0,j.ER)(null==b?void 0:null===(v=b.votingArea)||void 0===v?void 0:v.quota)}]})]}),(null==b?void 0:null===(y=b.votingArea)||void 0===y?void 0:y.partyResults)&&(0,r.jsxs)("section",{className:"wrap gap-500","aria-labelledby":"election-vote-share",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-vote-share",text:"First preference vote share",children:(0,r.jsx)(Info,{parentId:"election-vote-share",children:"Parties may have more than one candidate standing in each constituency. Each party's Northern Ireland vote share is the cumulative first preference vote for all its candidates as a percentage of all valid votes."})}),(0,r.jsx)(VoteShareGraph,{voteShare:b.votingArea.partyResults.map(e=>({...e,voteCount:e.firstPreferenceVoteCount,voteChange:e.firstPreferenceVoteChange,votePercentage:e.firstPreferenceVotePercentage,votePercentageChange:e.firstPreferenceVotePercentageChange})),mainParties:g.mainParties,changeLabel:"Change since 2017"})]})]})]})}function GeneralElectionConstituency(e){var t,n,a,i,l,c,u;let{election:p,data:h}=e,m=$.Z.UK_GENERAL[p.year],v=(null==h?void 0:null===(t=h.votingArea)||void 0===t?void 0:t.votingStatus)==="DECLARED"?sortItems(null==h?void 0:null===(n=h.votingArea)||void 0===n?void 0:n.nominations,[{sortField:"voteCount",direction:s.desc},{sortField:"candidate.surname"},{sortField:"candidate.firstName"}]):sortItems(null==h?void 0:null===(a=h.votingArea)||void 0===a?void 0:a.nominations,[{sortField:"candidate.surname"},{sortField:"candidate.firstName"}]),y=(0,j.do)({statusType:"gainOrHold",winner:null===(i=h.votingArea.electedCandidate)||void 0===i?void 0:i.party.displayName,sittingParty:null===(l=h.votingArea.previouslyElectedCandidate)||void 0===l?void 0:l.party.displayName,gainOrHold:h.votingArea.gainOrHold,isAnnouncementBanner:!0});return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.Z,{Logo:m.logo,theme:"election-theme-".concat(p.year,"-").concat(p.electionType),links:[{text:"Full results",url:"/elections/".concat(p.slug),backLink:!0,hiddenTextPrefix:"Back to",trackingLabel:"full-results"},{text:"Live coverage",url:"https://news.sky.com/politicshub",type:"live",target:"_blank",trackingLabel:"live-coverage"}],children:null===(c=h.votingArea)||void 0===c?void 0:c.shortName}),(0,r.jsxs)("section",{className:"wrap gap-400",children:[y&&(0,r.jsx)(StatusBanner,{party:(null===(u=h.votingArea.electedCandidate)||void 0===u?void 0:u.party.abbreviation)||"baseline",statusText:y}),(0,r.jsx)(Status,{status:[{name:"Majority",value:(0,j.ER)((0,j.sO)({value:h.votingArea.majority}))},{name:"Electorate",value:(0,j.ER)(h.votingArea.electorate)},{name:"Turnout",value:(0,j.wG)(roundToXDecimalPlaces(h.votingArea.turnoutPercentage))}]})]}),(0,r.jsxs)("section",{className:"wrap gap-500",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-vote-share",text:"Vote Share",children:(0,r.jsx)(Info,{parentId:"election-vote-share",children:"The percentage of votes each party has received in this constituency and how it's changed since the last election. The candidate with the highest number of votes wins the seat."})}),(0,r.jsx)(VoteShareGraph,{voteShare:h.votingArea.nominations,changeLabel:"Change since 2019",mainParties:p.mainParties})]}),(0,r.jsx)("section",{className:"wrap gap-500",children:(0,r.jsxs)(Table,{layout:["name bold 43%","name 43%","cell 14%"],theme:"elections",children:[(0,r.jsx)(Table.Header,{values:[{value:"Party"},{value:"Candidate"},{value:"Votes"}]}),(0,r.jsx)(Table.Body,{children:v.map((e,t)=>(0,r.jsx)(Table.Row,{values:[{value:e.party.name,dataset:{"data-party":e.party.abbreviation}},{value:"".concat(e.candidate.firstName," ").concat(e.candidate.surname)},{value:(0,j.ER)(e.voteCount)}]},t))})]})})]})}function LocalCouncilsConstituency(e){var t,n,a,s,i;let{election:l,data:c}=e,u=$.Z.ENGLISH_COUNCIL[l.year],p=(0,j.do)({statusType:"gainOrHold",winner:null===(t=c.votingArea.controllingParty)||void 0===t?void 0:t.displayName,sittingParty:null===(n=c.votingArea.previouslyControllingParty)||void 0===n?void 0:n.displayName,gainOrHold:c.votingArea.gainOrHold,isAnnouncementBanner:!0});return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.Z,{Logo:u.logo,links:[{text:"Full results",url:"/elections/".concat(l.slug),backLink:!0,hiddenTextPrefix:"Back to"}],children:null===(a=c.votingArea)||void 0===a?void 0:a.shortName}),(0,r.jsxs)("section",{className:"wrap gap-400","aria-labelledby":"election-council-seats",children:[(0,r.jsx)(SectionHeader,{tag:"h2",id:"election-council-seats",text:"Seats",children:(0,r.jsx)(Info,{parentId:"election-council-seats",children:"The number of seats each party has in this council and how it's changed since the last election."})}),(0,r.jsxs)("div",{className:"wrap gap-100",children:[p&&(0,r.jsx)(StatusBanner,{party:(null===(s=c.votingArea.controllingParty)||void 0===s?void 0:s.abbreviation)||"baseline",statusText:p}),(0,r.jsx)(ElectionSeats,{seats:null===(i=c.votingArea.parties)||void 0===i?void 0:i.map(e=>({...e,seatChange:e.seatsChange})),items:5,mainParties:l.mainParties})]})]})]})}function NorthernIrelandAssemblyIframe(e){let{data:t,election:n}=e;return(0,r.jsx)(m(),{href:"/elections/".concat(n.slug),passHref:!0,id:"election-seats-iframe-link",style:{textDecoration:"none"},children:(0,r.jsx)(ElectionSeats,{seats:t.election.partyResults,items:6,mainParties:n.mainParties})})}Table.Header=e=>{let{values:t=[]}=e,n=(0,o.useContext)(el);return(0,r.jsx)("thead",{className:"display-any",children:(0,r.jsx)("tr",{children:t.map((e,t)=>(0,r.jsxs)("th",{"data-layout":n[t],children:[(0,r.jsx)("span",{className:eo("table-long-value"),children:null==e?void 0:e.value}),(0,r.jsx)("span",{className:eo("table-short-value"),"aria-hidden":"true",children:e.shortValue||e.value})]},t))})})},Table.Body=e=>{let{children:t}=e;return(0,r.jsx)("tbody",{children:t})},Table.Row=ec,NorthernIrelandAssemblyConstituency.propTypes={election:c().object,data:c().object},NorthernIrelandAssemblyIframe.propTypes={data:c().object,metaData:c().object,election:c().object};var ed=n(1259),eu=n.n(ed),ep=n(8550),eh=n.n(ep);let em=p().bind(eh());function GeneralElectionSeatsIframe(e){var t,n;let{data:a,election:s,isWide:i,inApp:l}=e,c=(0,o.useRef)();function iframeResizeHandler(e){window&&window.top&&window.top.postMessage({type:"iframe-banner-height",height:e[0].borderBoxSize[0].blockSize},"*")}return(0,o.useEffect)(()=>{let e=new window.ResizeObserver(iframeResizeHandler);e.observe(c.current)},[]),(0,r.jsxs)("div",{className:"".concat(em("general-election-seats-iframe")),ref:c,children:[!l&&(0,r.jsx)(eu(),{id:"8395eeb2d0dba1",children:"body{background:transparent}"}),(0,r.jsx)("div",{className:"wrap wrap-site-width wrap-gutter wrap-auto-align ".concat(i?"wrap-site-width-wide":""),children:(0,r.jsxs)("div",{className:"wrap gap-400",children:[(0,r.jsx)(SectionHeader,{href:"/elections/".concat(s.slug),id:"election-seats-iframe",size:2,text:"".concat(s.name," ").concat(s.year),style:{"--justify":"center"}}),(0,r.jsxs)("div",{className:"wrap gap-100",children:[(null===(n=a.election)||void 0===n?void 0:null===(t=n.announcement)||void 0===t?void 0:t.message)&&(0,r.jsx)(StatusBanner,{party:a.election.announcement.subject,statusText:a.election.announcement.message}),(0,r.jsx)(ElectionSeats,{seats:a.election.partyResults.map(e=>({...e,seatCount:e.seats.count,seatChange:e.seats.change})),items:5,mainParties:s.mainParties,theme:"general-election-2024"})]})]})})]})}function LocalCouncilsIframe(e){let{data:t,election:n}=e;return(0,r.jsx)(m(),{href:"/elections/".concat(n.slug),passHref:!0,id:"election-seats-iframe-link",style:{textDecoration:"none"},children:(0,r.jsx)(ElectionSeats,{seats:t.election.partyResults.map(e=>({...e,seatCount:e.seats.count,seatChange:e.seats.change})),items:5,mainParties:n.mainParties})})}GeneralElectionSeatsIframe.propTypes={data:c().object,metaData:c().object,election:c().object,isWide:c().bool,inApp:c().bool},LocalCouncilsIframe.propTypes={data:c().object,metaData:c().object,election:c().object};let getElectionTypeComponent=e=>{switch(e){case"NORTHERN_IRELAND":return NorthernIrelandAssembly;case"UK_GENERAL":return GeneralElection;case"ENGLISH_COUNCIL":return LocalCouncils}},getConsituencyTypeComponent=e=>{switch(e){case"NORTHERN_IRELAND":return NorthernIrelandAssemblyConstituency;case"UK_GENERAL":return GeneralElectionConstituency;case"ENGLISH_COUNCIL":return LocalCouncilsConstituency}},getElectionTypeIframeComponent=e=>{switch(e){case"NORTHERN_IRELAND":return NorthernIrelandAssemblyIframe;case"UK_GENERAL":return GeneralElectionSeatsIframe;case"ENGLISH_COUNCIL":return LocalCouncilsIframe}}},8503:function(e,t,n){"use strict";n.d(t,{X:function(){return idFromName}});var a={"Kingston upon Hull North":"Hull North","Kingston upon Hull West and Hessle":"Hull West & Hessle","Carmarthen West and South Pembrokeshire":"Carmarthen West & Pembrokeshire","Na h-Eileanan an Iar":"Western Isles","County Durham":"Durham","Windsor and Maidenhead":"Windsor & Maidenhead Royal","Bristol, City of":"Bristol","Herefordshire, County of":"Herefordshire","Kingston upon Hull, City of":"Hull","Kingston upon Hull East":"Hull East","Kingston upon Hull North and Cottingham":"Hull North and Cottingham","Kingston upon Hull West and Haltemprice":"Hull West and Haltemprice","Montgomeryshire and Glyndŵr":"Montgomeryshire and Glyndwr","Ynys M\xf4n":"Ynys Mon"};let getSkyName=e=>a[e],idFromName=e=>{var t;let n=null!==(t=getSkyName(e))&&void 0!==t?t:e;return n.trim().toLowerCase().replace(/ /g,"-").replace(/\band\b|&|,|'|\(|\)/g,"").split("-").sort().join("-").replace(/^-|-$/,"")}},533:function(e,t,n){"use strict";n.d(t,{$Y:function(){return isFullPostcode},OP:function(){return fetchVotingAreas},bE:function(){return getOutcodes}});var a=n(1572);let s=/^([A-Z][A-HJ-Y]?\d[A-Z\d]? ?\d[A-Z]{2}|GIR ?0A{2})$/,i=/^(([A-Z][A-HJ-Y]?\d)[A-Z\d]?) ?\d?[A-Z]{0,2}$/,isFullPostcode=e=>s.test(e),getOutcodes=e=>{let t=e.match(i);if(!t)return;let n=t[1],a=t[2];return n===a?[n]:[n,a]},fetchVotingAreas=async(e,t)=>{try{return await (0,a._)("/api/postcodes/".concat(encodeURIComponent(e),"?electionType=").concat(t))}catch(e){return[]}}},3481:function(e,t,n){"use strict";n.d(t,{ER:function(){return prettifyNumber},do:function(){return setElectionStatus},fm:function(){return capitalizeFirstLetter},sO:function(){return setValue},wG:function(){return appendPercentSignToNumber},xz:function(){return prependSignToParseableNumber}});let capitalizeFirstLetter=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""},appendPercentSignToNumber=function(e){let t=Number(e);return isNaN(t)||null===e?"":"".concat(e,"%")},prettifyNumber=function(e){let t=Number(e);return isNaN(t)||null===e?"":e.toLocaleString("en-GB")},prependSignToParseableNumber=function(e){let t=e;"string"==typeof e&&(t=e.replaceAll(",",""));let n=isNaN(Number(t))||null===t||""===t;if(n)return e;let a=e.toString();return"-"===a[0]?a.replace("-","−"):"".concat("0"===a?"":"+").concat(a)},setValue=function(e){let{value:t,fallback:n="-",replace:a}=e;return 0===t||t?(null==a?void 0:a.old)&&(null==a?void 0:a.new)?t.toString().replace(a.old,a.new):t:n},setElectionStatus=function(e){let{statusType:t="status",winner:n,sittingParty:a,gainOrHold:s,status:i,isAnnouncementBanner:r=!1}=e;return"gainOrHold"===t?s&&n?"HOLD"===s&&(null==n?void 0:n.match(/noc|no overall control/i))?"Remains ".concat(n):"GAIN"===s&&(null==n?void 0:n.match(/noc|no overall control/i))?"".concat(a," lose to ").concat(n):"".concat(n," ").concat(s).concat("GAIN"===s?" from ".concat(a):""):r?"Result not yet in":void 0:"status"===t?i:void 0}},2653:function(e,t,n){"use strict";n.d(t,{S:function(){return ErrorBoundary}});var a=n(7294);let ErrorBoundary=class ErrorBoundary extends a.Component{componentDidCatch(e){}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}constructor(e){super(e),this.state={hasError:!1}}}},2477:function(e,t,n){"use strict";n.d(t,{Z:function(){return Layout}});var a=n(5893),s=n(7294),i=n(5697),r=n.n(i),o=n(9008),l=n.n(o),c=n(2596),d=n(3683),u=n(4298),p=n.n(u),h=[{vendorName:"chartbeat",gdpId:1,active:!0,sourcepointId:"5ea172e36ede87504f7b4590"},{vendorName:"userzoom",gdpId:2,active:!0,sourcepointId:"6137185aa2286349e51b0c65"},{vendorName:"peer-39",gdpId:3,active:!0,sourcepointId:"5f058e622c911e101682422b"},{vendorName:"brightcove",gdpId:4,active:!0,sourcepointId:"5ec796b4320b5a4efd764e0f"},{vendorName:"google-tag-manager",gdpId:5,active:!0,sourcepointId:"5e952f6107d9d20c88e7c975"},{vendorName:"spreaker",gdpId:6,active:!0,sourcepointId:"5f33bda0cfb5e201a573d55f"},{vendorName:"twitter",gdpId:7,active:!0,sourcepointId:"5fab0c31a22863611c5f8764"},{vendorName:"youtube",gdpId:8,active:!0,sourcepointId:"5e7ac3fae30e7d1bc1ebf5e8"},{vendorName:"facebook",gdpId:9,active:!0,sourcepointId:"5f1b2fbdb8e05c3057240f56"},{vendorName:"instagram",gdpId:10,active:!0,sourcepointId:"6054c53ca228639c6f285121"},{vendorName:"flourish",gdpId:11,active:!0,sourcepointId:"5ec7955faf2b474b46b7a09e"},{vendorName:"datawrapper",gdpId:12,active:!0,sourcepointId:"5ec462c02330505ab89fbb37"},{vendorName:"tiktok",gdpId:13,active:!0,sourcepointId:"5e7f6927b8e05c4e491e7380"},{vendorName:"qualtrics",gdpId:18,active:!0,sourcepointId:"5f1b2fbeb8e05c3057240fa0"}];function ConsentManagement(e){let{data:t}=e;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(p(),{id:"sourcepointConsentIdMapping",children:"\n          window.sdc = window.sdc || {};\n          window.sdc.consentIdMapping = ".concat(JSON.stringify(h),";\n        ")}),(0,a.jsx)(p(),{id:"sourcepointManagementScript",dangerouslySetInnerHTML:{__html:'function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){for(var t,e,o=[],n=window,r=n;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===n.top)break;r=n.parent}t||(function t(){var e=n.document,o=!!n.frames.__tcfapiLocator;if(!o)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!o}(),n.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):o.push(n)},n.addEventListener("message",(function(t){var e="string"==typeof t.data,o={};if(e)try{o=JSON.parse(t.data)}catch(t){}else o=t.data;var n="object"===_typeof(o)?o.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(o,r){var a={__tcfapiReturn:{returnValue:o,success:r,callId:n.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(e?JSON.stringify(a):a,"*")}),n.parameter)}),!1))}();'}}),(0,a.jsx)(p(),{id:"sourcepointConfig",children:"window._sp_ = {\n      config: {\n        accountId: ".concat(t.accountId,",\n        propertyId: ").concat(t.propertyId,",\n        propertyHref: '").concat(t.propertyHref,"',\n        joinHref: ").concat(t.joinHref,",\n        baseEndpoint: 'https://cdn.privacy-mgmt.com',\n        gdpr: {},\n        events: {\n          onSPPMObjectReady() {\n            document.body.addEventListener('click', function (e) {\n              if (e.target.matches(\"a[href='#privacy-options']\")) {\n                e.preventDefault();\n                window._sp_.gdpr.loadPrivacyManagerModal(").concat(t.privacyManagerId,");\n              }\n            });\n          },\n        },\n      }\n    };")}),(0,a.jsx)(p(),{id:"consent",dangerouslySetInnerHTML:{__html:"\n  function createConsentCookie(vendorConsents) {\n    const consentedVendors = vendorConsents.consentedVendors || [];\n    const grants = vendorConsents.grants;\n    const mappedVendors = consentedVendors\n      .filter((vendor) => grants[vendor._id].vendorGrant)\n      .map((vendor) => vendor._id)\n      .map((id) => {\n        return window.sdc.consentIdMapping.find((vendorRecord) => vendorRecord.sourcepointId === id);\n      })\n      .filter((record) => Boolean(record));\n    const consentString = `:${mappedVendors.map((vendor) => vendor.gdpId).join(':')}:`;\n    const expiryDate = new Date();\n    expiryDate.setMonth(expiryDate.getMonth() + 3);\n    document.cookie = `consents=${consentString}; expires=${expiryDate}; path=/`;\n    mappedVendors.forEach((vendor) => {\n      document\n        .querySelectorAll(`[data-vendor-name=\"${vendor.vendorName.toLowerCase()}\"]`)\n        .forEach((e) => (e.dataset.consent = true));\n    });\n  \n    document.querySelectorAll(`[data-vendor-name=\"iab-vendor\"]`).forEach((e) => (e.dataset.consent = true));\n  \n    const pendingVendors = document.querySelectorAll('[data-consent=\"pending\"]');\n    if (pendingVendors.length) {\n      pendingVendors.forEach((vendor) => {\n        vendor.dataset.consent = false;\n      });\n    }\n  }\n  \n  __tcfapi('addEventListener', 2, function (tcData, success) {\n    if (success) {\n      if (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete') {\n        __tcfapi('getCustomVendorConsents', 2, function (vendorConsents, success) {\n          if (success) {\n            createConsentCookie(vendorConsents);\n          }\n        });\n      }\n    }\n  });\n\n    const consentsCookie = document.cookie.split('; ').find((row) => row.startsWith('consents='));\n    if (consentsCookie) {\n      const consentsValue = consentsCookie.split('=')[1];\n      for (const vendor of window.sdc.consentIdMapping) {\n        if (consentsValue.includes(`:${vendor.gdpId}:`)) {\n          document\n            .querySelectorAll(`[data-vendor-name=\"${vendor.vendorName}\"]:not([data-consent=\"true\"])`)\n            .forEach((e) => {\n              if (e) {\n                e.dataset.consent = true;\n              }\n            });\n        } else {\n          document\n            .querySelectorAll(`[data-vendor-name=\"${vendor.vendorName}\"]:not([data-consent=\"false\"])`)\n            .forEach((e) => {\n              if (e) {\n                e.dataset.consent = false;\n              }\n            });\n        }\n      }\n      document.querySelectorAll(`[data-vendor-name=\"iab-vendor\"]`).forEach(function (e) {\n        e.dataset.consent = true;\n      });\n    }\n  \n    if (!consentsCookie) {\n      __tcfapi('getCustomVendorConsents', 2, function (vendorConsents, success) {\n        if (success && !vendorConsents.newUser) {\n          createConsentCookie(vendorConsents);\n        }\n      });\n    }\n  "}}),(0,a.jsx)(p(),{src:"https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js",id:"sourcepoint",async:!0})]})}ConsentManagement.propTypes={data:r().object};var m=n(1163);let v=s.useLayoutEffect;var y=n(2653);function Analytics(e){let{data:t={}}=e,n=(0,m.useRouter)(),i=(0,s.useMemo)(()=>({application:{name:null==t?void 0:t.application,environment:null==t?void 0:t.applicationEnvironment},page:{name:null==t?void 0:t.name,breadcrumb:null==t?void 0:t.breadcrumb,type:null==t?void 0:t.type,tags:[null==t?void 0:t.tags]}}),[t]);v(()=>{let handleRouteChange=()=>{window&&window.skyTags&&(window.skyTags.queue.push(["set",i]),window.skyTags.queue.push(["event",{type:"view"}],["track"]))};return n.events.on("routeChangeComplete",handleRouteChange),()=>{n.events.off("routeChangeComplete",handleRouteChange)}},[n.events,i]);let r='\n    !function(){var e=window.skyTags=window.skyTags||{};e.queue=e.queue||[],e.snippetVersion="1.0",e.emitter=e.emitter||{registry:{},on:function(e,i){var s=this.registry,t=s[e];t?s[e].push:s[e]=[i]}},e.queue.push(["init"])}();\n    (function(){\n      skyTags.queue.push([\'set\', '.concat(JSON.stringify(i),"]);\n      skyTags.queue.push(['event', {type: 'view'}], ['track']);\n    })();\n  ");return(0,a.jsxs)(y.S,{children:[(0,a.jsx)(p(),{src:"https://analytics.global.sky.com/sky-tags/news/".concat(null==t?void 0:t.analyticsEnvironment,"/sky-tags-without-adobe.min.js"),async:!0,id:"analytics-global-sky-lib"}),(0,a.jsx)(p(),{dangerouslySetInnerHTML:{__html:r},id:"analytics-global-sky-script"})]})}function Chartbeat(e){let{data:t={},inApp:n=!1}=e,i=(0,m.useRouter)(),r=(0,s.useMemo)(()=>({sections:"Elections",path:i.asPath,title:"".concat(null==t?void 0:t.pageTitle," | Sky News")}),[t]);v(()=>{let handleRouteChange=()=>{window&&window.pSUPERFLY&&window.pSUPERFLY.virtualPage(r)};return i.events.on("routeChangeComplete",handleRouteChange),()=>{i.events.off("routeChangeComplete",handleRouteChange)}},[i.events,r]);let o="\n    window._sf_async_config={\n        uid: '".concat(null==t?void 0:t.uid,"',\n        domain: '").concat(null==t?void 0:t.domain,"',\n        sections: 'Elections',\n        useCanonical: 'true',\n        mobileApp: ").concat(n,",\n      };\n\n    window._sf_endpt = new Date().getTime();\n\n    var init = function () {\n        var script = document.createElement('script');\n        script.src = document.location.protocol + '//static.chartbeat.com/js/chartbeat.js';\n        document.body.appendChild(script);\n    };\n\n    (function(){\n        if (!window.sdc || !window.sdc.checkConsent){\n            init();\n            return;\n        }\n\n        window.sdc.checkConsent(document.currentScript, init);\n    })();\n  ");return(0,a.jsx)(y.S,{children:(0,a.jsx)(p(),{dangerouslySetInnerHTML:{__html:o},id:"chartbeat-sky-script","data-consent":"false","data-vendor-name":"chartbeat"})})}function Layout(e){var t,n,i;let{components:r,children:o,inApp:u}=e;return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(l(),{children:(0,a.jsx)("script",{async:!0,src:"https://assets.adobedtm.com/launch-".concat(null===(t=r.launch)||void 0===t?void 0:t.appId,".min.js")})}),(0,a.jsxs)("div",{className:"wrap gap-0",children:[(0,a.jsx)("div",{children:!u&&(0,a.jsx)(c.Z,{data:r.headerData})}),(0,a.jsxs)("div",{className:"wrap gap-700",children:[(0,a.jsx)("main",{id:"main",className:"wrap wrap-auto-align wrap-gutter wrap-site-width gap-700",children:o}),(0,a.jsx)(d.Z,{data:r.footerData})]})]}),(null===(n=r.consentManagement)||void 0===n?void 0:n.enabled)&&(0,a.jsx)(ConsentManagement,{data:r.consentManagement}),(null===(i=r.chartbeat)||void 0===i?void 0:i.enabled)&&(0,a.jsx)(Chartbeat,{data:null==r?void 0:r.chartbeat,inApp:u}),!u&&(0,a.jsx)(Analytics,{data:null==r?void 0:r.analytics})]})}Analytics.propTypes={data:r().object},Chartbeat.propTypes={data:r().object,inApp:r().bool},Layout.propTypes={components:r().object,children:r().node,inApp:r().bool}},5375:function(e){e.exports={"az-nav":"styles_az-nav__O_3bK","az-nav-main":"styles_az-nav-main__PvAMl","az-nav-more":"styles_az-nav-more__N4SMn"}},7174:function(e){e.exports={list:"styles_list__7yBwl","list-items":"styles_list-items__2CK4b","list-link":"styles_list-link__VGWJN","list-name":"styles_list-name___UXJb","list-status":"styles_list-status__Ls7wE","list-more":"styles_list-more__Qw5Yn","list-navigation":"styles_list-navigation__IjQCc","no-js":"styles_no-js__wXcpX","list-no-results":"styles_list-no-results__zvLN5","list-navigation-search":"styles_list-navigation-search__CH0Zt","list-navigation-search-icon":"styles_list-navigation-search-icon__pJlI3"}},1995:function(e){e.exports={map:"styles_map__poYmi","map-body":"styles_map-body__Anpa2","ui-nojs":"styles_ui-nojs__hOIw7","map-title":"styles_map-title__ldFlP","map-svg":"styles_map-svg__BkoMD","map-tooltip":"styles_map-tooltip___N69K","map-key":"styles_map-key__TMyev","map-key-summary":"styles_map-key-summary__RB4tG","map-key-items":"styles_map-key-items__qVEJ_"}},2837:function(e){e.exports={members:"styles_members__mBI6u","members-list":"styles_members-list__XlZgR","members-item":"styles_members-item__BEyob","members-icon":"styles_members-icon__IkGWH","members-body":"styles_members-body__ovNmE","members-party":"styles_members-party__g7w7g","members-name":"styles_members-name__SfjFh"}},2370:function(e){e.exports={seats:"styles_seats__ZHWy2","seats-list":"styles_seats-list__YsMh_","seats-item":"styles_seats-item__9px3B","seats-result":"styles_seats-result__Mvx_N","seats-party":"styles_seats-party__FbWVv","seats-count":"styles_seats-count__hou9G","seats-change":"styles_seats-change__tArYW"}},6588:function(e){e.exports={banner:"styles_banner__zyX_k"}},4646:function(e){e.exports={status:"styles_status__emA8g","status-item":"styles_status-item__V_358"}},4994:function(e){e.exports={voteshare:"styles_voteshare__onxHM","voteshare-header":"styles_voteshare-header__53Yff","voteshare-bar-header":"styles_voteshare-bar-header__Q0Vk_","voteshare-party":"styles_voteshare-party__a7X8q","voteshare-share":"styles_voteshare-share__sciGM","voteshare-group":"styles_voteshare-group__C4mlo","voteshare-bar":"styles_voteshare-bar__ho62D","voteshare-bar-body":"styles_voteshare-bar-body__RUkD0","voteshare-bar-current":"styles_voteshare-bar-current__l8gNr","voteshare-bar-previous":"styles_voteshare-bar-previous__S7Xbl","voteshare-arrow--left":"styles_voteshare-arrow--left__VRJ_f","voteshare-arrow--right":"styles_voteshare-arrow--right__mzp1b","voteshare-change":"styles_voteshare-change__2dWeY"}},8833:function(e){e.exports={info:"styles_info__aApfr","info-summary":"styles_info-summary__e4_hL","info-bubble":"styles_info-bubble__Gkv6T",showinfo:"styles_showinfo__KwQ3D"}},4466:function(e){e.exports={"section-header":"styles_section-header__NNvgC","section-header-title":"styles_section-header-title__LHyAW","section-header-link":"styles_section-header-link__mvdH8","section-header-chevron":"styles_section-header-chevron___OYM0"}},288:function(e){e.exports={"table-container":"styles_table-container__0kGpc","table-overflow-wrap":"styles_table-overflow-wrap__mwwW4","table-overflow":"styles_table-overflow__NUEci",table:"styles_table__ElVvh","table-footnotes":"styles_table-footnotes__1oMDG","table-key":"styles_table-key__BKpzk","table-key-item":"styles_table-key-item__ta2if","table-short-value-icon":"styles_table-short-value-icon__yi6f1","table-short-value":"styles_table-short-value__Bdx_s","table-long-value":"styles_table-long-value__ELXSI","table-elected":"styles_table-elected__xzbLC","table-excluded":"styles_table-excluded__zbHS9","table-not_elected":"styles_table-not_elected__VCW_Q"}},8550:function(e){e.exports={"general-election-seats-iframe":"styles_general-election-seats-iframe__QqefE"}}}]);